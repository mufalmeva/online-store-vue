<template>
  <div id="nav" class="">
    <div class="nav-items">
      <router-link to="/" class="nav-items__item">Home</router-link>
      <router-link
        :to="{ name: 'gender-overview', params: { gender: 'women' } }"
        class="nav-items__item"
        >Women</router-link
      >
      <router-link
        :to="{ name: 'gender-overview', params: { gender: 'men' } }"
        class="nav-items__item"
        >Men</router-link
      >
      <div class="float-right ">
        <span>
          <input class="search-container" type="text" placeholder="Search.." name="search"/>
          <span class="focus-border"></span>
        </span>
        <router-link to="/profile/wishlist" class="nav-items__item js-basket hover-opacity" custom-popup-link="dynamic_basket">
          <span class="d-inline-block">
            <svg style="vertical-align: baseline" fill="currentColor" height="25" viewBox="-4 0 490 490.818" width="25" xmlns="http://www.w3.org/2000/svg">
              <path d="m149.171875 233.238281c-14.121094 0-25.609375 11.125-25.609375 24.796875 0 13.667969 11.488281 24.792969 25.609375 24.792969s25.605469-11.125 25.605469-24.792969c0-13.671875-11.488282-24.796875-25.605469-24.796875zm0 33.589844c-5.300781 0-9.609375-3.945313-9.609375-8.792969 0-4.851562 4.3125-8.796875 9.609375-8.796875s9.605469 3.945313 9.605469 8.796875c0 4.847656-4.308594 8.792969-9.605469 8.792969zm0 0"/><path d="m307.179688 250.445312h-106.660157c-4.417969 0-8 3.582032-8 8 0 4.417969 3.582031 8 8 8h106.660157c4.417968 0 8-3.582031 8-8 0-4.417968-3.582032-8-8-8zm0 0"/><path d="m149.171875 163.703125c-14.121094 0-25.609375 11.121094-25.609375 24.792969s11.488281 24.792968 25.609375 24.792968 25.605469-11.121093 25.605469-24.792968-11.488282-24.792969-25.605469-24.792969zm0 33.585937c-5.300781 0-9.609375-3.941406-9.609375-8.792968 0-4.847656 4.3125-8.792969 9.609375-8.792969s9.605469 3.945313 9.605469 8.792969c0 4.851562-4.308594 8.792968-9.605469 8.792968zm0 0"/><path d="m149.171875 302.777344c-14.121094 0-25.609375 11.121094-25.609375 24.792968 0 13.671876 11.488281 24.792969 25.609375 24.792969s25.605469-11.117187 25.605469-24.792969c0-13.675781-11.488282-24.792968-25.605469-24.792968zm0 33.585937c-5.300781 0-9.609375-3.941406-9.609375-8.792969 0-4.847656 4.3125-8.792968 9.609375-8.792968s9.605469 3.945312 9.605469 8.792968c0 4.851563-4.308594 8.792969-9.605469 8.792969zm0 0"/><path d="m307.179688 319.445312h-106.660157c-4.417969 0-8 3.582032-8 8 0 4.417969 3.582031 8 8 8h106.660157c4.417968 0 8-3.582031 8-8 0-4.417968-3.582032-8-8-8zm0 0"/><path d="m467.394531 72.433594c-.476562-4.019532-3.902343-7.03125-7.949219-6.988282h-22.035156v-14.164062c0-28.277344-24.382812-51.28125-54-51.28125-29.621094 0-54 23-54 51.28125v14.164062h-24.628906c-4.046875-.046874-7.472656 2.96875-7.949219 6.984376l-2.773437 24.015624h-219.550782c-4.378906-.039062-7.960937 3.480469-8 7.859376l-1.898437 280.140624h-56.601563c-4.417968 0-7.597656 3.757813-7.597656 8.175782v35.546875c.0625 33.554687 26.480469 61.136719 60 62.648437v-.371094h247v.324219c1 .074219 2.152344-.324219 3.378906-.324219h.277344c16.53125.085938 32.414063-6.433593 44.117188-18.109374 11.703125-11.671876 18.265625-27.535157 18.226562-44.066407v-182.824219h70.457032c11.273437.082032 22.050781-4.652343 29.617187-13.011718 6.972656-7.644532 10.285156-17.933594 9.082031-28.207032zm-121.984375-21.152344c0-19.453125 17.199219-35.28125 38-35.28125 20.800782 0 38 15.828125 38 35.28125v14.164062h-76zm-282.5625 423.164062h-.050781c-12.3125.085938-24.144531-4.761718-32.863281-13.457031-8.714844-8.699219-13.585938-20.523437-13.523438-32.835937v-27.707032h232v27.601563c-.097656 16.578125 6.464844 32.5 18.21875 44.191406.839844.839844 1.582032 2.210938 2.460938 2.210938zm294.5625-46.398437v.105469c.070313 12.308594-4.792968 24.132812-13.5 32.828125-8.707031 8.699219-20.535156 13.550781-32.84375 13.464843h-.164062c-12.339844.078126-24.195313-4.78125-32.929688-13.496093-8.734375-8.71875-13.617187-20.566407-13.5625-32.902344v-35.425781c-.101562-4.5-3.742187-8.113282-8.246094-8.175782h-175.554687l1.835937-272h209.773438l-7.832031 68h-83.867188c-4.417969 0-8 3.582032-8 8 0 4.417969 3.582031 8 8 8h82.027344l-.886719 7.738282c-1.203125 10.285156 2.113282 20.585937 9.085938 28.242187 7.566406 8.359375 18.339844 13.097657 29.613281 13.019531h37.050781zm104.128906-206.261719c-4.527343 4.957032-10.960937 7.742188-17.671874 7.660156h-123.5c-6.714844.082032-13.144532-2.703124-17.675782-7.65625-3.910156-4.234374-5.785156-9.960937-5.128906-15.683593l14.347656-124.660157h17.5v11.488282c0 4.417968 3.582032 8 8 8 4.417969 0 8-3.582032 8-8v-11.488282h76v11.488282c0 4.417968 3.582032 8 8 8 4.417969 0 8-3.582032 8-8v-11.488282h14.898438l14.355468 124.660157c.65625 5.722656-1.214843 11.449219-5.125 15.679687zm0 0"/>
            </svg>
          </span>
        </router-link>
        <router-link to="/profile" class="nav-items__item js-basket hover-opacity" custom-popup-link="dynamic_basket">
          <span class="d-inline-block">
            <svg fill="currentColor" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" style="enable-background:new 0 0 55 55; width: 1.8em; display: block;" xml:space="preserve">
        <path d="M55,27.5C55,12.337,42.663,0,27.5,0S0,12.337,0,27.5c0,8.009,3.444,15.228,8.926,20.258l-0.026,0.023l0.892,0.752
            c0.058,0.049,0.121,0.089,0.179,0.137c0.474,0.393,0.965,0.766,1.465,1.127c0.162,0.117,0.324,0.234,0.489,0.348
            c0.534,0.368,1.082,0.717,1.642,1.048c0.122,0.072,0.245,0.142,0.368,0.212c0.613,0.349,1.239,0.678,1.88,0.98
            c0.047,0.022,0.095,0.042,0.142,0.064c2.089,0.971,4.319,1.684,6.651,2.105c0.061,0.011,0.122,0.022,0.184,0.033
            c0.724,0.125,1.456,0.225,2.197,0.292c0.09,0.008,0.18,0.013,0.271,0.021C25.998,54.961,26.744,55,27.5,55
            c0.749,0,1.488-0.039,2.222-0.098c0.093-0.008,0.186-0.013,0.279-0.021c0.735-0.067,1.461-0.164,2.178-0.287
            c0.062-0.011,0.125-0.022,0.187-0.034c2.297-0.412,4.495-1.109,6.557-2.055c0.076-0.035,0.153-0.068,0.229-0.104
            c0.617-0.29,1.22-0.603,1.811-0.936c0.147-0.083,0.293-0.167,0.439-0.253c0.538-0.317,1.067-0.648,1.581-1
            c0.185-0.126,0.366-0.259,0.549-0.391c0.439-0.316,0.87-0.642,1.289-0.983c0.093-0.075,0.193-0.14,0.284-0.217l0.915-0.764
            l-0.027-0.023C51.523,42.802,55,35.55,55,27.5z M2,27.5C2,13.439,13.439,2,27.5,2S53,13.439,53,27.5
            c0,7.577-3.325,14.389-8.589,19.063c-0.294-0.203-0.59-0.385-0.893-0.537l-8.467-4.233c-0.76-0.38-1.232-1.144-1.232-1.993v-2.957
            c0.196-0.242,0.403-0.516,0.617-0.817c1.096-1.548,1.975-3.27,2.616-5.123c1.267-0.602,2.085-1.864,2.085-3.289v-3.545
            c0-0.867-0.318-1.708-0.887-2.369v-4.667c0.052-0.519,0.236-3.448-1.883-5.864C34.524,9.065,31.541,8,27.5,8
            s-7.024,1.065-8.867,3.168c-2.119,2.416-1.935,5.345-1.883,5.864v4.667c-0.568,0.661-0.887,1.502-0.887,2.369v3.545
            c0,1.101,0.494,2.128,1.34,2.821c0.81,3.173,2.477,5.575,3.093,6.389v2.894c0,0.816-0.445,1.566-1.162,1.958l-7.907,4.313
            c-0.252,0.137-0.502,0.297-0.752,0.476C5.276,41.792,2,35.022,2,27.5z M42.459,48.132c-0.35,0.254-0.706,0.5-1.067,0.735
            c-0.166,0.108-0.331,0.216-0.5,0.321c-0.472,0.292-0.952,0.57-1.442,0.83c-0.108,0.057-0.217,0.111-0.326,0.167
            c-1.126,0.577-2.291,1.073-3.488,1.476c-0.042,0.014-0.084,0.029-0.127,0.043c-0.627,0.208-1.262,0.393-1.904,0.552
            c-0.002,0-0.004,0.001-0.006,0.001c-0.648,0.16-1.304,0.293-1.964,0.402c-0.018,0.003-0.036,0.007-0.054,0.01
            c-0.621,0.101-1.247,0.174-1.875,0.229c-0.111,0.01-0.222,0.017-0.334,0.025C28.751,52.97,28.127,53,27.5,53
            c-0.634,0-1.266-0.031-1.895-0.078c-0.109-0.008-0.218-0.015-0.326-0.025c-0.634-0.056-1.265-0.131-1.89-0.233
            c-0.028-0.005-0.056-0.01-0.084-0.015c-1.322-0.221-2.623-0.546-3.89-0.971c-0.039-0.013-0.079-0.027-0.118-0.04
            c-0.629-0.214-1.251-0.451-1.862-0.713c-0.004-0.002-0.009-0.004-0.013-0.006c-0.578-0.249-1.145-0.525-1.705-0.816
            c-0.073-0.038-0.147-0.074-0.219-0.113c-0.511-0.273-1.011-0.568-1.504-0.876c-0.146-0.092-0.291-0.185-0.435-0.279
            c-0.454-0.297-0.902-0.606-1.338-0.933c-0.045-0.034-0.088-0.07-0.133-0.104c0.032-0.018,0.064-0.036,0.096-0.054l7.907-4.313
            c1.36-0.742,2.205-2.165,2.205-3.714l-0.001-3.602l-0.23-0.278c-0.022-0.025-2.184-2.655-3.001-6.216l-0.091-0.396l-0.341-0.221
            c-0.481-0.311-0.769-0.831-0.769-1.392v-3.545c0-0.465,0.197-0.898,0.557-1.223l0.33-0.298v-5.57l-0.009-0.131
            c-0.003-0.024-0.298-2.429,1.396-4.36C21.583,10.837,24.061,10,27.5,10c3.426,0,5.896,0.83,7.346,2.466
            c1.692,1.911,1.415,4.361,1.413,4.381l-0.009,5.701l0.33,0.298c0.359,0.324,0.557,0.758,0.557,1.223v3.545
            c0,0.713-0.485,1.36-1.181,1.575l-0.497,0.153l-0.16,0.495c-0.59,1.833-1.43,3.526-2.496,5.032c-0.262,0.37-0.517,0.698-0.736,0.949
            l-0.248,0.283V39.8c0,1.612,0.896,3.062,2.338,3.782l8.467,4.233c0.054,0.027,0.107,0.055,0.16,0.083
            C42.677,47.979,42.567,48.054,42.459,48.132z"></path>
        </svg>
        </span>
        </router-link>
        <router-link to="/cart" class="nav-items__item js-basket hover-opacity" custom-popup-link="dynamic_basket">
          <span class="d-inline-block">
            <svg fill="currentColor" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 60 60" style="enable-background:new 0 0 60 60; width: 1.6em; display: block;" xml:space="preserve">
              <path d="M11.68,13l-0.833-5h-2.99C7.411,6.28,5.859,5,4,5C1.794,5,0,6.794,0,9s1.794,4,4,4c1.859,0,3.411-1.28,3.858-3h1.294l0.5,3
                H9.614l5.171,26.016c-2.465,0.188-4.518,2.086-4.76,4.474c-0.142,1.405,0.32,2.812,1.268,3.858C12.242,48.397,13.594,49,15,49h2
                c0,3.309,2.691,6,6,6s6-2.691,6-6h11c0,3.309,2.691,6,6,6s6-2.691,6-6h4c0.553,0,1-0.447,1-1s-0.447-1-1-1h-4.35
                c-0.826-2.327-3.043-4-5.65-4s-4.824,1.673-5.65,4h-11.7c-0.826-2.327-3.043-4-5.65-4s-4.824,1.673-5.65,4H15
                c-0.842,0-1.652-0.362-2.224-0.993c-0.577-0.639-0.848-1.461-0.761-2.316c0.152-1.509,1.546-2.69,3.173-2.69h0.791
                c0.014,0,0.025,0,0.039,0h38.994C57.763,41,60,38.763,60,36.013V13H11.68z M4,11c-1.103,0-2-0.897-2-2s0.897-2,2-2s2,0.897,2,2
                S5.103,11,4,11z M46,45c2.206,0,4,1.794,4,4s-1.794,4-4,4s-4-1.794-4-4S43.794,45,46,45z M23,45c2.206,0,4,1.794,4,4s-1.794,4-4,4
                s-4-1.794-4-4S20.794,45,23,45z M58,36.013C58,37.66,56.66,39,55.013,39H16.821l-4.77-24H58V36.013z"></path>
            </svg>
          </span>
          <counter-badge :count="cartCount"></counter-badge>
        </router-link>
      </div>
    </div>
    <!--    Logo area in the centre-->
    <h1 class="logo">SAPATO</h1>
    <hr/>
  </div>
</template>

<script>
import CounterBadge from "@/components/CounterBadge";
export default {
  components: { CounterBadge },
  name: "Navbar",
  computed: {
    cartCount() {
      return this.$store.state.cart.length;
    }
  },
  mounted() {
    $(document).on('focus', '.search-container', function (e) {
      $('.focus-border').css({
        'top': $(this).offset().top + $(this).height() + 1 +'px',
        'left': $(this).offset().left + 'px',
        'width': $(this).width() + 'px'
      });
      $('span[class=focus-border]').addClass('search-onfocus');
    });
    $(document).on('focusout', '.search-container', function (e) {
      $('.focus-border').css({
        'width': 0,
      });
      $('.focus-border').removeClass('search-onfocus');
    });
  }
};
</script>
<style scoped lang="scss">
  .focus-border{
    left: inherit; width: 0; height: 2px; background-color: #3399FF; transition: 0.4s;}
  .search-container {
    border-top: none;
    border-left: none;
    border-right: none;
    &:focus {
      outline: none;
      transition: outline 0.6s linear;
    }
  }
  :focus{outline: none;}
  .search-onfocus {
    width: 100%;
    transition: 0.4s;
    position: absolute;
  }
#nav {
  padding: 30px 30px 10px 30px;;
  a {
    font-weight: bold;
    color: #2c3e50;
    text-decoration: none;
    &.router-link-exact-active {
      color: #42b983!important;
      border-bottom: 4px double black;
    }
  }
}
.nav-items {
  justify-content: flex-start;
  /*display: flex;*/
}
.nav-brand{
  justify-content: flex-end;
}
.nav-items__item {
  margin-left: 1rem;
  position: relative;
}
ul {
  padding-left: 0;
  list-style: none;
}
.logo{
  text-align: center;
}
@media (min-width: 768px) {
  .navbar-nav.navbar-center {
    position: absolute;
    left: 50%;
    transform: translatex(-50%);
  }
}
</style>
